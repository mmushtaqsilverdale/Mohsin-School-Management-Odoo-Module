<odoo>
    <data>
        <record model="ir.module.category" id="module_category_mohsin_school">
            <field name="name">School</field>
            <field name="description">School Security</field>
            <field name="sequence">7</field>
        </record>

        <record id="group_school_batch_setting" model="res.groups">
            <field name="name">Batch Settings</field>
            <field name="comment">Show batches</field>
            <field name="category_id" ref="base.module_category_hidden"/>
        </record>

        <record id="group_school_user" model="res.groups">
            <field name="name">User</field>
            <field name="category_id" ref="module_category_mohsin_school"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
            <field name="users" eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"/>
        </record>

        <record id="group_school_manager" model="res.groups">
            <field name="name">Administrator</field>
            <field name="category_id" ref="module_category_mohsin_school"/>
            <field name="implied_ids"
                   eval="[(4, ref('group_school_user')),(4, ref('base.group_user')),(4, ref('base.group_erp_manager'))]"/>
            <field name="users"
                   eval="[(4, ref('base.user_root')), (4, ref('base.user_admin')),(4, ref('base.group_erp_manager'))]"/>
        </record>

        <record id="group_school_student" model="res.groups">
            <field name="name">Student</field>
            <field name="category_id" ref="module_category_mohsin_school"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_school_teacher" model="res.groups">
            <field name="name">Teacher</field>
            <field name="category_id" ref="module_category_mohsin_school"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>


        <!-- Security for Attendance part -->
        <record id="group_student_attendance_user" model="res.groups">
            <field name="name">Officer : Manage all attendances</field>
            <field name="category_id" ref="module_category_mohsin_school"/>
            <field name="implied_ids"
                   eval="[(4, ref('hr.group_hr_user')), (4, ref('mohsin_school.group_school_user'))]"/>
        </record>


        <record id="student_attendance_rule_attendance_manager" model="ir.rule">
            <field name="name">attendance officer: full access</field>
            <field name="model_id" ref="model_mohsin_student_attendance"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4,ref('mohsin_school.group_school_user'))]"/>
        </record>

        <!--        <record id="student_attendance_rule_attendance_manager" model="ir.rule">-->
        <!--            <field name="name">Teachers</field>-->
        <!--            <field name="model_id" ref="model_hr_employee"/>-->
        <!--            <field name="domain_force">[('user_id','=',user.id)]</field>-->
        <!--            <field name="groups" eval="[(4,ref('mohsin_school.group_school_teacher'))]"/>-->
        <!--        </record>-->

        <record model="ir.rule" id="student_multi_comp_rule">
            <field name="name">Student multi-company</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="domain_force">[
                '|', ('company_id', '=', False),
                ('company_id', 'in', company_ids)
                ]
            </field>
        </record>

        <record model="ir.rule" id="teacher_multi_comp_rule">
            <field name="name">Teacher multi-company</field>
            <field name="model_id" ref="model_hr_employee"/>
            <field name="domain_force">[
                '|', ('company_id', '=', False),
                ('company_id', 'in', company_ids)
                ]
            </field>
        </record>


        <record model="ir.rule" id="teacher_multi_comp_rule">
            <field name="name">Courses multi-company</field>
            <field name="model_id" ref="model_mohsin_school_course"/>
            <field name="domain_force">[
                '|', ('company_id', '=', False),
                ('company_id', 'in', company_ids)
                ]
            </field>
        </record>


    </data>
</odoo>

